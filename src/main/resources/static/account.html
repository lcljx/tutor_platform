<!DOCTYPE HTML>
<html>
<head>
<title>Purple_loginform Website Template | Home :: w3layouts</title>
<!-- css -->
<link href="css/style.css" rel="stylesheet" type="text/css" media="all" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
<!-- -->
<script>var __links = document.querySelectorAll('a');function __linkClick(e) { parent.window.postMessage(this.href, '*');} ;for (var i = 0, l = __links.length; i < l; i++) {if ( __links[i].getAttribute('data-t') == '_blank' ) { __links[i].addEventListener('click', __linkClick, false);}}</script>
<script src="js/jquery.min.js"></script>
<script>$(document).ready(function(c) {
	$('.alert-close').on('click', function(c){
		$('.message').fadeOut('slow', function(c){
	  		$('.message').remove();
		});
	});	  
});
</script>
<script>
	
	function getValiCode(){
		var pNum = $(".phoneNum").val();
		$("#validate").css({"background-color":"white","color":"black"});
		$("#validate").val("验证码已发送");
		$.ajax({
	          //几个参数需要注意一下
              type: "POST",//方法类型
              dataType: "json",//预期服务器返回的数据类型
              url: "/user/sendCode" ,//url
              data: pNum,
			  contentType:"application/json",
              success: function (result) {
              	console.log(result);//打印服务端返回的数据(调试用)
              	if(result.result == 0){
              		
              		alert("成功发送验证码,请注意查收");
              	}else{
              		alert("错误代码："+result.result+" 错误信息："+result.errmsg);
              	}
              },
              error : function() {
                  alert("异常！");
              }
		 });
	}
	
	function register(){
		
		 $.ajax({
	            //几个参数需要注意一下
	                type: "POST",//方法类型
	                dataType: "json",//预期服务器返回的数据类型
	                url: "/user/register" ,//url
	                data: $('#register').serialize(),
	                success: function (result) {
	                   alert(result);
	                },
	                error : function() {
	                    alert("异常！");
	                }
	            });
	}
</script>
<style>
@font-face {
  font-family: 'iconfont';  /* project id 981896 */
  src: url('//at.alicdn.com/t/font_981896_m8fv33t9aal.eot');
  src: url('//at.alicdn.com/t/font_981896_m8fv33t9aal.eot?#iefix') format('embedded-opentype'),
  url('//at.alicdn.com/t/font_981896_m8fv33t9aal.woff') format('woff'),
  url('//at.alicdn.com/t/font_981896_m8fv33t9aal.ttf') format('truetype'),
  url('//at.alicdn.com/t/font_981896_m8fv33t9aal.svg#iconfont') format('svg');
}
.iconfont{
    font-family:"iconfont" !important;
    font-size:16px;font-style:normal;
    -webkit-font-smoothing: antialiased;
    -webkit-text-stroke-width: 0.1px;
    -moz-osx-font-smoothing: grayscale;}
</style>
</head>
<body>
<!-- contact-form -->	
<div class="message warning">
<div class="inset">
	<div class="login-head">
		<a href="login.html">返回登录</a>
		 <div class="alert-close"> </div> 			
	</div>
		<form id="register">
			<li>
				<input name="userName" type="text" class="username" value="请输入用户名(4-8个英文字符)" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'Username';}"><a href="#" class=" icon user"></a>
			</li>
				<div class="clear"> </div>
			<li>
				<input name="pass" type="password" value="Password" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'Password';}"> <a href="#" class="icon lock"></a>
			</li>
			<div class="clear"> </div>
			<li>
				<input name="rePass" type="password" value="rePassword" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'rePassword';}"> <a href="#" class="icon lock"></a>
			</li>
			<div class="clear"> </div>
			<li>
				<input class="phoneNum" name="phoneNum" type="text"  value="注册手机号" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'phone number';}"><a href="#" class="icon lock"></a>
			</li>
			<div class="clear"> </div>
			<li>
					<input type="text" name="vcode" style="width: 50%;" value="验证码" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'phone number';}">
					<label><input id="validate" type="button" class="validate"  onclick="getValiCode()" value="获取验证码" style="float: right;" ></label>
					<div class="clear"> </div>
			</li>
			<div class="clear"> </div>
			<div class="submit">
				<label><input name="role" type="radio" class="role" value="1">普通用户</input></label>
				<label><input name="role" type="radio" class="role" value="2">教师</input></label>
				<label><input id="rg" type="button" onclick="register()" value="注 册" ></label>
				<div class="clear">  </div>	
			</div>
				
		</form>
		</div>					
	</div>
	</div>
	<div class="clear"> </div>
	<!--- footer --->
	<div class="footer">
		<p>Copyright &copy; 2018.</p>
	</div>

</body>
</html>